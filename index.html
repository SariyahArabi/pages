<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title id="page-title">Ù…Ø´Ø±ÙˆØ¹Ùƒ â€“ Ø´Ø±Ø§Ø¡ Ø§Ù„Ø®Ø¯Ù…Ø©</title>

  <!-- Ø®Ø·ÙˆØ· -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <!-- PayPal SDK (Ø§Ø³ØªØ¨Ø¯Ù„ YOUR_CLIENT_ID Ø¨Ù…ÙØªØ§Ø­Ùƒ Ø¥Ù† Ø£Ø±Ø¯Øª) -->
  <script src="https://www.paypal.com/sdk/js?client-id=AXCgRghjsHN78Jn0QZEGzfPX69hUALOyjXdrL-dd8TLQnjBG3du3pLqV4RaibRlUAh4t3E6doZPUDVos&currency=USD" defer></script>

  <style>
    :root{
      --bg:#0f1221; --card:#161a2f; --text:#e9ecff; --muted:#a8b0d6;
      --acc:#7c5cff; --acc2:#00e5a8; --shadow:0 10px 30px rgba(0,0,0,.35);
      --radius:14px;
    }
    *{box-sizing:border-box}
    html[dir="rtl"]{ direction: rtl; }
    html[dir="ltr"]{ direction: ltr; }

    body{
      margin:0;
      font-family:"Cairo","Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background: radial-gradient(1200px 600px at 80% -10%, rgba(124,92,255,.25), transparent),
                  radial-gradient(1000px 500px at 10% 110%, rgba(0,229,168,.18), transparent),
                  var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .container{max-width:1080px;margin:0 auto;padding:22px}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:8px 0;gap:12px}
    .brand{display:flex;gap:10px;align-items:center;font-weight:800}
    .brand .dot{width:12px;height:12px;border-radius:50%;background:linear-gradient(45deg,var(--acc),var(--acc2))}
    .nav a{color:var(--muted);text-decoration:none;margin:0 8px;font-weight:600}
    .lang-toggle{display:inline-flex;gap:8px;align-items:center}
    .lang-btn{cursor:pointer;padding:6px 10px;border-radius:8px;border:1px solid rgba(255,255,255,.06);background:transparent;color:var(--muted);font-weight:700}
    .lang-btn.active{background:linear-gradient(45deg,var(--acc),var(--acc2));color:#071022}

    .hero{display:grid;grid-template-columns:1.1fr .9fr;gap:26px;align-items:center;margin:18px 0}
    .h1{font-size:40px;line-height:1.15;margin:0 0 10px;font-weight:800}
    .lead{color:var(--muted);font-size:16px;margin:0 0 14px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow)}
    .tag{display:inline-flex;align-items:center;gap:8px;background:rgba(124,92,255,.12);border-radius:999px;padding:6px 10px;font-size:13px;color:#e8dfff;margin-bottom:10px}

    .options{display:flex;gap:10px;margin:12px 0;justify-content:center}
    .option{flex:1;padding:12px;border-radius:12px;background:#12162a;border:1px solid rgba(255,255,255,.04);text-align:center;cursor:pointer;transition:.16s;font-weight:700}
    .option small{display:block;margin-top:8px;color:var(--muted);font-weight:600}
    .option.active{border:2px solid var(--acc);background:linear-gradient(45deg,var(--acc),var(--acc2));color:#071022}

    .price-row{display:flex;align-items:center;gap:12px;justify-content:center;margin-top:6px}
    .big-price{font-size:36px;font-weight:900}
    .muted{color:var(--muted)}

    #paypal-button-container{margin-top:14px}

    /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ */
    form {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    label {
      font-weight: 600;
      color: var(--text);
    }
    input, textarea {
      padding: 10px 14px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,.1);
      background: rgba(255,255,255,.05);
      color: var(--text);
      font-family: inherit;
    }
    button[type="submit"] {
      background: linear-gradient(45deg,var(--acc),var(--acc2));
      color: #071022;
      border: none;
      padding: 12px;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
      margin-top: 8px;
    }

    /* Ø£Ù†Ù…Ø§Ø· Ù‚Ø³Ù… Ø§Ù„Ø´Ø±ÙˆØ· */
    .terms {
      margin: 30px 0;
      padding: 20px;
      background: var(--card);
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,.06);
    }
    .terms h1 {
      font-size: 28px;
      margin-bottom: 16px;
      color: var(--text);
    }
    .terms p {
      margin: 10px 0;
      line-height: 1.6;
    }

    @media(max-width:900px){
      .hero{grid-template-columns:1fr}
      .nav{flex-direction:column;align-items:flex-start;gap:10px}
    }
  </style>
</head>
<body>
  <div class="container">
    <nav class="nav">
      <div class="brand"><span class="dot"></span> <span id="brand-name">Ù…Ø´Ø±ÙˆØ¹Ùƒ</span></div>

      <div style="display:flex;gap:12px;align-items:center">
        <div class="lang-toggle" aria-hidden="false">
          <button id="btn-ar" class="lang-btn">Ø¹Ø±Ø¨ÙŠ</button>
          <button id="btn-en" class="lang-btn">EN</button>
        </div>
        <div>
          <a href="product.html" class="nav-link">Ù…Ù†ØªØ¬Ø§Øª</a>
          <a href="#" class="nav-link"></a>
          <a href="#" class="nav-link"></a>

          <a href="#buy" id="nav-buy" class="btn primary" style="padding:8px 12px;background:linear-gradient(45deg,var(--acc),var(--acc2));color:#071022;border-radius:10px;text-decoration:none">Ø§Ø´ØªØ±Ù Ø§Ù„Ø¢Ù†</a>
        </div>
      </div>
    </nav>

    <section class="hero">
      <div>
        <span class="tag" id="tag-text">Ø®Ø¯Ù…Ø© Ø¬Ø§Ù‡Ø²Ø© â€“ ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ø¬Ø§Ù†ÙŠØ©</span>
        <h1 class="h1" id="headline">Ø­Ù„ Ø³Ø±ÙŠØ¹ØŒ Ø£Ù†ÙŠÙ‚ØŒ ÙŠØ­ÙˆÙ‘Ù„ Ø§Ù„Ø²Ø§Ø¦Ø± Ø¥Ù„Ù‰ Ù…Ø´ØªØ±ÙŠ</h1>
        <p class="lead" id="lead">Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø¯Ù…Ø© ÙƒØ§Ù…Ù„Ø© Ù…Ø¹ Ø¯Ø¹Ù… ÙÙ†ÙŠ Ù…ØªÙƒØ§Ù…Ù„. Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¢Ù…Ù† Ø¹Ø¨Ø± PayPal.</p>

        <div id="buy" class="card">
          <!-- Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø®Ø·Ø© -->
          <div class="options" role="tablist" aria-label="Ø®Ø·Ø· Ø§Ù„Ø´Ø±Ø§Ø¡">
            <div class="option active" data-key="basic" data-price="19" tabindex="0">
              <span class="opt-name">Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</span>
              <small class="opt-price">$19</small>
            </div>
            <div class="option" data-key="pro" data-price="29" tabindex="0">
              <span class="opt-name">Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</span>
              <small class="opt-price">$29</small>
            </div>
            <div class="option" data-key="premium" data-price="49" tabindex="0">
              <span class="opt-name">Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ù…Ù…ÙŠØ²Ø©</span>
              <small class="opt-price">$49</small>
            </div>
          </div>

          <div class="price-row">
            <div class="muted" id="price-label">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¢Ù†</div>
            <div class="big-price" id="big-price">$19.00</div>
            <div class="muted" id="once-text">Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©</div>
          </div>

          <!-- PayPal buttons -->
          <div id="paypal-button-container" aria-live="polite"></div>

          <div class="muted" style="text-align:center;margin-top:10px" id="secure-text">ğŸ”’ Ø¹Ù…Ù„ÙŠØ© Ø¯ÙØ¹ Ø¢Ù…Ù†Ø© Ø¹Ø¨Ø± PayPal â€“ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø£Ùˆ Ø±ØµÙŠØ¯Ùƒ.</div>
        </div>
      </div>

     <!-- Ù…Ø±Ø¨Ø¹ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© -->
      <div class="card">
        <h3 id="contact-title">ğŸ“© Ø£Ø±Ø³Ù„ Ù„Ù†Ø§ Ø±Ø³Ø§Ù„Ø©</h3>
        <form action="https://formspree.io/f/xxxxxx" method="POST">
          <label id="name-label">Ø§Ù„Ø§Ø³Ù…:</label>
          <input type="text" name="name" required>

          <label id="email-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
          <input type="email" name="email" required>

          <label id="message-label">Ø§Ù„Ø±Ø³Ø§Ù„Ø©:</label>
          <textarea name="message" rows="5" required></textarea>

          <button type="submit" id="submit-btn">Ø¥Ø±Ø³Ø§Ù„</button>
        </form>
      </div>
    </section>

    <!-- Ù‚Ø³Ù… Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù… -->
    <div class="terms card">
      <h1 id="terms-title">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h1>
      <p id="term1">1- Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…Ø±Ø§Ø¯ Ùˆ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø¨Ù„Øº Ø­Ø³Ø¨ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø±ØºÙˆØ¨Ø©</p>
      <p id="term2">2- Ø§Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© ØªØ­ØªÙˆÙŠ Ø±Ù‚Ù… Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ø°Ø§ ÙƒÙ†Øª ØªØ±ØºØ¨ ÙÙŠ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø±ØºÙˆØ¨ ÙÙŠÙ‡</p>
      <p id="term3">3- Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø®Ø¯Ù…Ø© Ø³ÙˆÙ ÙŠÙƒÙˆÙ† Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ùˆ Ø§Ù„Ø¯ÙØ¹</p>
      <p id="term4">4- Ù„Ù† ÙŠØªÙ… ØªØ³Ù„ÙŠÙ… Ø§ÙŠ Ø´ÙŠØ¡ ÙÙŠ Ø­Ø§Ù„ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¯ÙØ¹</p>
    </div>

    <footer style="margin-top:22px;text-align:center;color:var(--muted)" id="footer-text">Â© Ù…Ø´Ø±ÙˆØ¹Ùƒ â€“ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</footer>
  </div>

  <script>
    // ===== i18n data =====
    const i18n = {
      ar: {
        title: "Ù…Ø´Ø±ÙˆØ¹Ùƒ â€“ Ø´Ø±Ø§Ø¡ Ø§Ù„Ø®Ø¯Ù…Ø©",
        brand: "Ù…Ø´Ø±ÙˆØ¹Ùƒ",
        nav_features: "Ø§Ù„Ù…Ø²Ø§ÙŠØ§",
        nav_faq: "Ø§Ù„Ø£Ø³Ø¦Ù„Ø©",
        nav_buy: "Ø§Ø´ØªØ±Ù Ø§Ù„Ø¢Ù†",
        tag: "Ø®Ø¯Ù…Ø© Ø¬Ø§Ù‡Ø²Ø© â€“ ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ø¬Ø§Ù†ÙŠØ©",
        headline: "Ø­Ù„ Ø³Ø±ÙŠØ¹ØŒ Ø£Ù†ÙŠÙ‚ØŒ ÙŠØ­ÙˆÙ‘Ù„ Ø§Ù„Ø²Ø§Ø¦Ø± Ø¥Ù„Ù‰ Ù…Ø´ØªØ±ÙŠ",
        lead: "Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø¯Ù…Ø© ÙƒØ§Ù…Ù„Ø© Ù…Ø¹ Ø¯Ø¹Ù… ÙÙ†ÙŠ Ù…ØªÙƒØ§Ù…Ù„. Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¢Ù…Ù† Ø¹Ø¨Ø± PayPal.",
        once: "Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©",
        secure: "ğŸ”’ Ø¹Ù…Ù„ÙŠØ© Ø¯ÙØ¹ Ø¢Ù…Ù†Ø© Ø¹Ø¨Ø± PayPal â€“ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø£Ùˆ Ø±ØµÙŠØ¯Ùƒ.",
        foot: "Â© Ù…Ø´Ø±ÙˆØ¹Ùƒ â€“ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©",
        priceLabel: "Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¢Ù†",
        contact_title: "ğŸ“© Ø£Ø±Ø³Ù„ Ù„Ù†Ø§ Ø±Ø³Ø§Ù„Ø©",
        name_label: "Ø§Ù„Ø§Ø³Ù…:",
        email_label: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:",
        message_label: "Ø§Ù„Ø±Ø³Ø§Ù„Ø©:",
        submit_btn: "Ø¥Ø±Ø³Ø§Ù„",
        terms_title: "Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…",
        term1: "1- Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…Ø±Ø§Ø¯ Ùˆ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø¨Ù„Øº Ø­Ø³Ø¨ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø±ØºÙˆØ¨Ø©",
        term2: "2- Ø§Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© ØªØ­ØªÙˆÙŠ Ø±Ù‚Ù… Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ø°Ø§ ÙƒÙ†Øª ØªØ±ØºØ¨ ÙÙŠ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø±ØºÙˆØ¨ ÙÙŠÙ‡",
        term3: "3- Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø®Ø¯Ù…Ø© Ø³ÙˆÙ ÙŠÙƒÙˆÙ† Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ùˆ Ø§Ù„Ø¯ÙØ¹",
        term4: "4- Ù„Ù† ÙŠØªÙ… ØªØ³Ù„ÙŠÙ… Ø§ÙŠ Ø´ÙŠØ¡ ÙÙŠ Ø­Ø§Ù„ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¯ÙØ¹",
        plans: {
          basic: "Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©",
          pro: "Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©",
          premium: "Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ù…Ù…ÙŠØ²Ø©"
        },
        currencySymbol: "$"
      },
      en: {
        title: "YourSite â€“ Buy Service",
        brand: "YourSite",
        nav_features: "Features",
        nav_faq: "FAQ",
        nav_buy: "Buy Now",
        tag: "Ready Service â€” Free updates",
        headline: "Fast, elegant solution that converts visitors to buyers",
        lead: "Get the full service with complete technical support. Payment is secure via PayPal.",
        once: "One-time",
        secure: "ğŸ”’ Secure payment via PayPal â€” card or balance accepted.",
        foot: "Â© YourSite â€“ All rights reserved",
        priceLabel: "Price now",
        contact_title: "ğŸ“© Contact Us",
        name_label: "Name:",
        email_label: "Email:",
        message_label: "Message:",
        submit_btn: "Send",
        terms_title: "Terms & Conditions",
        term1: "1- Please choose the desired type and pay the amount according to the preferred payment method",
        term2: "2- Send a message containing the message number and if you want any modifications, send the desired changes",
        term3: "3- The service will be delivered after selection and payment",
        term4: "4- Nothing will be delivered if payment is not completed",
        plans: {
          basic: "Basic Package",
          pro: "Advanced Package",
          premium: "Premium Package"
        },
        currencySymbol: "$"
      }
    };

    // ===== state =====
    let selectedKey = 'basic';
    let selectedPrice = 19.00;
    let currentLang = localStorage.getItem('site_lang') || 'ar';
    let paypalReady = false;
    let pendingRender = false;

    // ===== elements =====
    const btnAr = document.getElementById('btn-ar');
    const btnEn = document.getElementById('btn-en');
    const brandName = document.getElementById('brand-name');
    const navFeatures = document.getElementById('nav-features');
    const navFaq = document.getElementById('nav-faq');
    const navBuy = document.getElementById('nav-buy');
    const tagText = document.getElementById('tag-text');
    const headline = document.getElementById('headline');
    const lead = document.getElementById('lead');
    const onceText = document.getElementById('once-text');
    const secureText = document.getElementById('secure-text');
    const footerText = document.getElementById('footer-text');
    const priceLabel = document.getElementById('price-label');
    const contactTitle = document.getElementById('contact-title');
    const nameLabel = document.getElementById('name-label');
    const emailLabel = document.getElementById('email-label');
    const messageLabel = document.getElementById('message-label');
    const submitBtn = document.getElementById('submit-btn');
    const termsTitle = document.getElementById('terms-title');
    const term1 = document.getElementById('term1');
    const term2 = document.getElementById('term2');
    const term3 = document.getElementById('term3');
    const term4 = document.getElementById('term4');

    const opts = document.querySelectorAll('.option');
    const bigPriceEl = document.getElementById('big-price');
    const paypalContainer = document.getElementById('paypal-button-container');

    // ===== helper =====
    function formatPrice(v){
      return v.toFixed(2);
    }

    // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù„ØºØ© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ±
    function applyLanguage(lang){
      currentLang = lang;
      localStorage.setItem('site_lang', lang);

      // direction & font
      if(lang === 'ar'){
        document.documentElement.lang = 'ar';
        document.documentElement.dir = 'rtl';
        document.body.style.fontFamily = '"Cairo","Inter",system-ui';
      } else {
        document.documentElement.lang = 'en';
        document.documentElement.dir = 'ltr';
        document.body.style.fontFamily = '"Inter","Cairo",system-ui';
      }

      // texts
      document.getElementById('page-title').textContent = i18n[lang].title;
      brandName.textContent = i18n[lang].brand;
      navFeatures.textContent = i18n[lang].nav_features;
      navFaq.textContent = i18n[lang].nav_faq;
      navBuy.textContent = i18n[lang].nav_buy;
      tagText.textContent = i18n[lang].tag;
      headline.textContent = i18n[lang].headline;
      lead.textContent = i18n[lang].lead;
      onceText.textContent = i18n[lang].once;
      secureText.textContent = i18n[lang].secure;
      footerText.textContent = i18n[lang].foot;
      priceLabel.textContent = i18n[lang].priceLabel;
      contactTitle.textContent = i18n[lang].contact_title;
      nameLabel.textContent = i18n[lang].name_label;
      emailLabel.textContent = i18n[lang].email_label;
      messageLabel.textContent = i18n[lang].message_label;
      submitBtn.textContent = i18n[lang].submit_btn;
      termsTitle.textContent = i18n[lang].terms_title;
      term1.textContent = i18n[lang].term1;
      term2.textContent = i18n[lang].term2;
      term3.textContent = i18n[lang].term3;
      term4.textContent = i18n[lang].term4;

      // update options labels (plan names and small price)
      opts.forEach(el=>{
        const key = el.getAttribute('data-key');
        const price = parseFloat(el.getAttribute('data-price'));
        el.querySelector('.opt-name').textContent = i18n[lang].plans[key];
        // opt-price element
        const small = el.querySelector('.opt-price');
        small.textContent = i18n[lang].currencySymbol + formatPrice(price);
      });

      // update big price text
      bigPriceEl.textContent = i18n[lang].currencySymbol + formatPrice(selectedPrice);

      // update language button active state
      btnAr.classList.toggle('active', lang === 'ar');
      btnEn.classList.toggle('active', lang === 'en');

      // re-render PayPal to ensure description matches language
      renderPayPalButton();
    }

    // Ø§Ø®ØªÙŠØ§Ø± Ø®Ø·Ø©
    function selectPlanByKey(key){
      const el = Array.from(opts).find(x => x.getAttribute('data-key') === key);
      if(!el) return;
      opts.forEach(o => o.classList.remove('active'));
      el.classList.add('active');
      selectedKey = key;
      selectedPrice = parseFloat(el.getAttribute('data-price'));
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶
      bigPriceEl.textContent = i18n[currentLang].currencySymbol + formatPrice(selectedPrice);
      // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø²Ø± Ø¨Ø§ÙŠ Ø¨Ø§Ù„
      renderPayPalButton();
    }

    // Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ø£Ø²Ø±Ø§Ø±
    btnAr.addEventListener('click', ()=> applyLanguage('ar'));
    btnEn.addEventListener('click', ()=> applyLanguage('en'));

    opts.forEach(el=>{
      el.addEventListener('click', ()=>{
        selectPlanByKey(el.getAttribute('data-key'));
      });
      // Ø¯Ø¹Ù… Ø§Ù„ÙˆØµÙˆÙ„ Ø¹Ø¨Ø± Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
      el.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); selectPlanByKey(el.getAttribute('data-key')); }
      });
    });

    // ===== PayPal rendering =====
    function renderPayPalButton(){
      // if paypal SDK not loaded yet -> mark pending and return
      if(typeof window.paypal === 'undefined'){
        pendingRender = true;
        return;
      }
      pendingRender = false;
      paypalContainer.innerHTML = '';

      // localize description by using currentLang & selectedKey
      const desc = (i18n[currentLang] && i18n[currentLang].plans[selectedKey]) ? i18n[currentLang].plans[selectedKey] : selectedKey;
      const amountStr = formatPrice(selectedPrice);

      paypal.Buttons({
        style: { shape:'pill', layout:'vertical', label:'paypal', height:45 },
        createOrder: function(data, actions){
          return actions.order.create({
            purchase_units: [{
              description: desc,
              amount: { currency_code: 'USD', value: amountStr }
            }]
          });
        },
        onApprove: function(data, actions){
          return actions.order.capture().then(function(orderData){
            const orderId = orderData.id;
            alert((currentLang === 'en' ? 'Payment successful! Order ID: ' : 'ØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­! Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ') + orderId);
          });
        },
        onError: function(err){
          console.error('PayPal error', err);
          alert(currentLang === 'en' ? 'Payment error, please try again.' : 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¯ÙØ¹ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
        }
      }).render('#paypal-button-container');
    }

    // ===== init =====
    window.addEventListener('load', function(){
      paypalReady = (typeof window.paypal !== 'undefined');
      selectPlanByKey(selectedKey);
      applyLanguage(currentLang);
      if(paypalReady && pendingRender) renderPayPalButton();
    });

    (function quickInitText(){
      const lang = currentLang;
      brandName.textContent = i18n[lang].brand;
      tagText.textContent = i18n[lang].tag;
      headline.textContent = i18n[lang].headline;
      lead.textContent = i18n[lang].lead;
      opts.forEach(el=>{
        const key = el.getAttribute('data-key');
        el.querySelector('.opt-name').textContent = i18n[lang].plans[key];
        el.querySelector('.opt-price').textContent = i18n[lang].currencySymbol + formatPrice(parseFloat(el.getAttribute('data-price')));
      });
      bigPriceEl.textContent = i18n[lang].currencySymbol + formatPrice(selectedPrice);
      btnAr.classList.toggle('active', lang === 'ar');
      btnEn.classList.toggle('active', lang === 'en');
    })();

  </script>
</body>
</html>